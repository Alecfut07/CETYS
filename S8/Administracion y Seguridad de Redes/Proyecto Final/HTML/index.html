<!DOCTYPE html>
<html>

<head>
    <title>Seguridad Perimetral</title>
    <link rel="icon" type="image/x-icon"
        href="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/lock.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <style>
        body,
        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: "Raleway", sans-serif
        }
    </style>
</head>

<body class="w3-light-grey">

    <!-- w3-content defines a container for fixed size centered content, 
and is wrapped around the whole page content, except for the footer in this example -->
    <div class="w3-content" style="max-width:1400px">

        <!-- Header -->
        <header class="w3-container w3-center w3-padding-32">
            <h1><b>Reporte - Seguridad Perimetral</b></h1>
            <div class="w3-row w3-padding-64" id="about">
                <div class="w3-col m6 w3-padding-large w3-hide-small CustomCenter">
                    <img src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Cetys-logo.png?token=GHSAT0AAAAAABR6XHYQX3TB6Q4SUIN354D6YU6NNTA"
                        class="w3-round w3-image w3-opacity-min" alt="Cetys Logo" width="250" height="250">
                </div>
                <!--class="w3-col m6 w3-padding-large"-->
                <div class="w3-col m6 w3-padding-large">
                    <p class="w3-center">Ingeniería en Ciencias Computacionales</p>
                    <p class="w3-center">Materia: Administración y Seguridad de Redes</p>
                    <p class="w3-center">Maestro: Daniel L. Moctezuma</p>
                </div>
            </div>

            <!--class="w3-row w3-padding-32"-->
            <div class="w3-row w3-padding-1">
                <p>INTEGRANTES DEL EQUIPO:</p>
                <div class="w3-third">
                    <p>Alec Ortega Cisneros (30247)</p>
                    <img src="https://avatars.githubusercontent.com/u/42727555?s=400&u=d6275b3bcdbaa39dc92249946333c8735a824837&v=4"
                        class="w3-round w3-margin-bottom" alt="Random Name" style="width:60%">
                </div>
                <div class="w3-third">
                    <p>Adrían Smith (24558)</p>
                    <img src="https://avatars.githubusercontent.com/u/61848991?v=4" class="w3-round w3-margin-bottom"
                        alt="Random Name" style="width:60%">
                </div>
                <div class="w3-third">
                    <p>Kevin Garcia (30526)</p>
                    <img src="https://avatars.githubusercontent.com/u/49922537?v=4" class="w3-round" alt="Random Name"
                        style="width:60%">
                </div>
            </div>
    </div>
    </header>

    <!-- Grid -->
    <div class="w3-row">

        <!-- Blog entries -->
        <div class="w3-col l8 s12">
            <!-- Blog entry -->
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-wan-lan-setup.png"
                        style="width:100%">
                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-System-Motherboard.png"
                        style="width:100%">
                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-System-Processor.png"
                        style="width:100%">
                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-Storage.png"
                        style="width:100%">
                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-Network-Adapter1.png"
                        style="width:100%">
                    <img class="mySlides1 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/pfsense-Network-Adapter2.png"
                        style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs1(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs1(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <p class="w3-center"><em>Puede ver más imágenes de pfsense y opnsense haciendo click en las flechas
                        rojas.</em></p><br>
                <div class="w3-container">
                    <h3><b>Instalación de pfSense y OPNsense</b></h3>
                </div>
                <div class="w3-container">
                    <p>Para establecer nuestro firewall perimetral primero tenemos que instalar el debido software en
                        cada lado de la red. El lado izquierdo le pertenece a pfSense y el derecho le pertenece a
                        OPNSense. La instalación de ambos es casi igual.</p>
                    <ul>
                        <li>Primero nos metemos al Virtualbox. En el virtualbox, le damos Ctrl-N y lo nombramos pfSense
                            o OPNSense como corresponda.</li>
                        <li>Seleccionamos el tipo BSD y la versión FreeBSD(64-bit) con una memoria de 1024MB y un disco
                            virtual VDI dinámico de 16 GB.</li>
                    </ul>
                    <p>Antes de encender la máquina virtual vamos a moverle a algunos de los ajustes:</p>
                    <ul>
                        <li>Primero en la ventana de sistema, vamos a escoger dos procesadores y configurar el boot
                            order para que quede: Hard Disk, Optical, y Floppy.</li>
                        <li>En el siguiente paso vamos a escoger el disco vacío y seleccionar el archivo que
                            corresponda,el pfSense y OPNSense tienen a sus archivos correspondientes en la carpeta C://
                            R-2022.</li>
                    </ul>
                    <p>Para el pfSense vamos a escoger el VLAN 40 y el VLAN 101 y para el OPNSense el VLAN 201 y el VLAN
                        30, en ese orden.Usamos T Server para el pfSense y MT Desktop para el OPNSense. De aquí ya
                        podemos iniciar la máquina virtual.</p>
                    <p>En el pfSense vamos a ver el instalador vamos a escoger las opciones por default y darle
                        &lt;Accept&gt;.</p>
                    <ul>
                        <li>Después seleccionar: Keymap Selection :&lt;Continue with default keymap&gt;</li>
                        <li>Partitioning : Auto(UFS)</li>
                        <li>Manual Configuration &lt;NO&gt;</li>
                    </ul>
                    <p>En el OPNSense nos va a mostrar un login, para realizar la instalación vamos a darle: login:
                        installer y password: opnsense. Al acabar la instalación vamos a acceder con la cuenta root y la
                        contraseña opnsense. Con esto concluimos la instalación de las dos máquinas virtuales.</p>

                    <p>Una vez que acabe la instalación, vamos a seleccionar la opción 2 para escoger la ip de nuestro
                        wan y lan.</p>
                    <ul>
                        <li>En el caso del pfSense tenemos la ip 10.21.1.15/24 para el lan y 158.122.90.15/22 para el
                            wan.</li>
                        <li>El OPNSense usa 10.22.1.17/24 para el lan y 158.122.67.17/22 para el wan.</li>
                        <li>De aquí seleccionamos la opción 8 para el shell. Le damos un ping a google.com para
                            verificar que tenemos conexión.</li>
                    </ul>
                    <p>Una vez que verifiquemos la conexión es hora de crear las reglas del firewall.</p>

                    <p>Para crear las reglas primero tenemos que acceder al dashboard del pfSense y del OPNSense. Para
                        esto vamos a tener que crear dos máquinas de Linux Mint, una en cada lado. Una vez que sean
                        creadas y con conexión a internet, vamos a ingresar la ip de la lan correspondiente en el
                        browser, por ejemplo en Linux Mint del lado derecho vamos a ingresar 10.22.1.17. Esto nos
                        llevará al dashboard. Para ingresar usaremos user-admin, password-pfsense para el lado izquierdo
                        y user-root, password-opnsense para el lado derecho. Primero vamos a crear una regla de
                        protocolo ICMP de tipo Echo Request para ambos lan y wan. Finalmente vamos a crear reglas de
                        protocolo TCP en los puertos 80(HTTP) y 443(HTTPS) y reglas de protocolo UDP en los puertos
                        53(DNS) y 123(NTP).</p>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/debian/Settings/debian-System-Motherboard.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/debian/Settings/debian-System-Processor.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/debian/Settings/debian-Storage.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/debian/Settings/debian-Network-Adapter1.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Izquierda/debian/nginx/nginx-status-active.png"
                        style="width:100%">

                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/debian/Settings/debian-System-Motherboard.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/debian/Settings/debian-System-Processor.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://github.com/Alecfut07/CETYS/blob/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/debian/Settings/debian-Storage.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://github.com/Alecfut07/CETYS/blob/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/debian/Settings/debian-Network-Adapter1.png"
                        style="width:100%">
                    <img class="mySlides2 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administraci%C3%B3n%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/debian/nginx/nginx-status-active.png"
                        style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs2(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs2(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <div class="w3-container">
                    <h3><b>Servidores y PCs</b></h3>
                </div>

                <div class="w3-container">
                    <p>Para nuestro servidores usamos dos ambientes operativos de Debian, uno en cada lado. Empezamos
                        metiéndonos al virtualbox y le damos Ctrl-I e importamos el archivo DLR.ova del repositorio
                        C:\R-2022. No audio. En la ventana
                        network escogemos Bridged adapter con el VLAN 201 para el lado derecho y 101 para el izquierdo
                        con el tipo T server. El debian del lado izquierdo va a tener la ip 10.21.1.63 y el derecho
                        10.22.1.63 y cada
                        uno va a tener cuatro usuarios: root, asr1, asr2, y asr3.</p>
                    <p>En cada debian le instalamos el nginx y están activas para poder visualizar la página. Y para
                        accederlas, tienes que colocar las siguientes ips en tu navegador web:</p>
                    <ul>
                        <li>Red izquierda ip: http://10.21.1.63/</li>
                        <li>Red derecha ip: http://10.22.1.63/</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/HP-apt-install-ruby.png"
                        style="width:100%">
                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/ifconfig.png"
                        style="width:100%">
                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/HP-MainMenu.png"
                        style="width:100%">
                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/HP-setup1.png"
                        style="width:100%">
                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/HP-setup2.png"
                        style="width:100%">
                    <img class="mySlides3 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/honeypot/HP-Test.png"
                        style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs3(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs3(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <div class="w3-container">
                    <h3><b>Honeypot (Pentbox) - Red Derecha</b></h3>
                    <h5>Instalación de Pentbox en Linux Mint.</h5>
                </div>

                <div class="w3-container">
                    <p>Pentbox es un conjunto de programas, que se pueden ser ejecutados individualmente. Y está
                        programado en un lenguaje interpretado en ruby. En este caso usamos el apartado de Honeypot para
                        establecerla como señuelo dentro de la red de la derecha, y con el objetivo de poder evitar un
                        posible ataque al sistema informático.</p>
                    <p>Los pasos para instalar Pentbox desde la terminal:</p>
                    <ul>
                        <li>Paso #1 (Usuario root): sudo su</li>
                        <li>Paso #2 (Instalar el lenguaje de ruby): apt install ruby</li>
                        <li>Paso #3 (Agarrar la ip a "atacar"): ifconfig</li>
                        <li>Paso #4 (Moverse a la carpeta de descargas): cd Downloads</li>
                        <li>Paso #5 (Descargar el archivo Pentbox): wget
                            http://downloads.sourceforge.net/project/pentbox18realised/pentbox-1.8.tar.gz</li>
                        <li>Paso #6 (Descomprimir el archivo Pentbox): tar -xvf pentbox-1.8.tar.gz</li>
                        <li>Paso #7 (Acceder al folder de Pentbox): cd pentbox-1.8</li>
                    </ul>
                    <p>Los pasos para configurar el Honeypot en Pentbox desde la terminal:</p>
                    <ul>
                        <li>NOTA: Tienes que tener los privilegios de root para poder usar el programa de Pentbox, y
                            para eso primero tienes que usar el comando de "sudo su".</li>
                        <li>Paso #8 (Ejecutar el programa de Pentbox): ruby pentbox.rb</li>
                        <li>Paso #9 (Entrar al apartado "Network tools"): 2</li>
                        <li>Paso #10 (Entrar al apartado "Honeypot"): 3</li>
                        <li>Paso #11 (Hacer configuración manual): 2</li>
                        <li>Paso #12 (Colocar el puerto): 80</li>
                        <li>Paso #13 (Insertar cualquier mensaje falso): "Has sido atrapado en el Honeypot..."</li>
                        <li>Paso #14 (Guardar los registros de los intrusos): y</li>
                        <li>Paso #15 (Seleccionar la localización del archivo de registros): Presionar Enter para que lo
                            guarde en la ruta por predeterminado (*/pentbox/other/log_honeypot.txt)</li>
                        <li>Paso #16 (Activar el sonido de intruso): y</li>
                        <li>Se mostrará en la terminal corriendo el honeypot ya configurado.</li>
                    </ul>
                    <p>Los pasos para hacer la prueba del Honeypot:</p>
                    <ul>
                        <li>Paso #17: Entrar al navegador web.</li>
                        <li>Paso #18: Colocar en el buscador la ip que va a ser atacada.</li>
                        <li>Finalmente se mostrará en pantalla el mensaje falso en el navegador y también se mostrará en
                            la terminal, el registro del intruso con sus respectivos datos (fecha, hora, sistema
                            operativo, navegador, etc).</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-firewall-nat-port-forward.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-firewall-rules-floating.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-firewall-rules-lan.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-firewall-rules-wan.png"
                        style="width:100%">

                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-proxy-enableproxy.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-proxy-cache.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-proxy-forwardproxy.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-proxy-blacklistextensions.png"
                        style="width:100%">
                    <img class="mySlides4 w3-animate-opacity"
                        src="https://raw.githubusercontent.com/Alecfut07/CETYS/main/S8/Administracion%20y%20Seguridad%20de%20Redes/Proyecto%20Final/Images/Red%20Derecha/proxys/opnsense-proxy-blacklistwebpages.png"
                        style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs4(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs4(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <div class="w3-container">
                    <h3><b>Proxys y firewalls en opnsense</b></h3>
                </div>

                <div class="w3-container">
                    <p>Para los firewalls y proxys se establecieron de la siguiente forma:</p>
                    <ul>
                        <li>NAT - Port Forward: creamos una de http, https, ssh para redirigir un puerto de red de un
                            nodo de red a otro con el respectivo protocolo.</li>
                        <li>NAT - Port Forward (proxy): También establecimos una para http con puerto 3128 y otra de
                            https con puerto 3129.</li>
                        <li>Firewall Rules Floating: Creamos una regla flotante de ICMP para que actue en múltiples
                            interfaces en las direcciones de entrada, salida o ambas. Esto para crear el diseño de dicha
                            regla con la finalidad de que sea más complejo y propenso a errores del usuario.</li>
                        <li>Firewall Rules LAN: Creamos reglas para la interfaz de LAN, por ejemplo en una usamos el
                            aliases de LAN_TCP (puertos 80 y 443), otra pero usando el aliases de LAN_UDP (puertos 53 y
                            123) y creamos dos reglas para los proxys para hacer el block de proxy en protocolos de http
                            y https. Con esto nos permite establecer cualquier acceso desde la red LAN a la red.</li>
                        <li>Firewall Rules WAN: Creamos reglas para la interfaz de WAN, por ejemplo en una establecimos
                            el puerto 80 (http), luego otra regla para el puerto 443 (https) y una tercera regla para el
                            puerto 22 (ssh). Tiene la finalidad de que la red LAN origina paquetes del examinador de
                            equipos y eso hace que el opnsense los bloquea automáticamente como medida de seguridad.
                        </li>
                    </ul>

                    <p>La configuración del Proxy en opnsense fue de la siguiente manera:</p>
                    <ul>
                        <li>En General Proxy: Habilitamos el proxy.</li>
                        <li>En Local Cache: Habilitamos el local cache.</li>
                        <li>En Forward Proxy: Habilitamos el Transparent HTTP proxy y el SSL inspection. También
                            establecemos la interfaz LAN del proxy, luego le colocamos el puerto de 3128 en proxy, el
                            puerto de 3129 en SSL Proxy y seleccionamos nuestro certificado que creamos. Y otro punto
                            que agregamos fue en colocar las extensiones (audio, videos, CD/DVD, ejecutables y archivos
                            comprimidos) en el Blacklist usando las expresiones regulares.</li>
                        <li>En Remote Accesss Control Lists: Agregamos dos bases de datos por medio de links, la de
                            CapitoleBlackLists nos sirve para bloquear páginas web en categorias y la de yoyoads nos
                            sirve para bloquear anunciones. Y es necsario en descargar sus certificados y aplicarlos
                            cuando se agregan nuevos links.</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides5 w3-animate-opacity" src="" style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs5(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs5(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <div class="w3-container">
                    <h3><b>Honeypot (Endlessh) - Red Izquierda</b></h3>
                    <h5>Instalación de Endlessh en Debian.</h5>
                </div>

                <div class="w3-container">
                    <p>Endlessh</p>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-content" style="max-width:800px;position:relative">

                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">
                    <img class="mySlides6 w3-animate-opacity" src="" style="width:100%">

                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;left:0;"
                        onclick="plusDivs6(-1)">
                        <p style="color:red;">❮</p>
                    </a>
                    <a class="w3-button w3-hover-yellow" style="position:absolute;top:45%;right:0;"
                        onclick="plusDivs6(+1)">
                        <p style="color:red;">❯</p>
                    </a>
                </div>
                <div class="w3-container">
                    <h3><b>Proxys y firewalls en pfsense
                        </b></h3>
                </div>

                <div class="w3-container">
                    <p>hola</p>
                </div>
            </div>
            <hr>
            <div class="w3-card-4 w3-margin w3-white">
                <div class="w3-container">
                    <h3><b>Referencias
                        </b></h3>
                </div>

                <div class="w3-container">
                    <ul>
                        <li>Docs.opnsense.org. 2022. Setup Transparent Proxy — OPNsense documentation. <a
                                href="https://docs.opnsense.org/manual/how-tos/proxytransparent.html">https://docs.opnsense.org/manual/how-tos/proxytransparent.html</a>
                        </li>
                        <li>Docs.opnsense.org. 2022. Setup Caching Proxy — OPNsense documentation. <a
                                href="https://docs.opnsense.org/manual/how-tos/cachingproxy.html">https://docs.opnsense.org/manual/how-tos/cachingproxy.html</a>
                        </li>
                        <li>Docs.opnsense.org. 2022. Setup Web Filtering — OPNsense documentation. <a
                                href="https://docs.opnsense.org/manual/how-tos/proxywebfilter.html">https://docs.opnsense.org/manual/how-tos/proxywebfilter.html</a>
                        </li>
                        <li>Dsi.ut-capitole.fr. 2022. Blacklists UT1. <a
                                href="https://dsi.ut-capitole.fr/blacklists/index_en.php">https://dsi.ut-capitole.fr/blacklists/index_en.php</a>
                        </li>
                        <li>Cyberciti.biz 2022. <a
                                href="https://www.cyberciti.biz/faq/squid-content-filter-block-files/">https://www.cyberciti.biz/faq/squid-content-filter-block-files/</a>
                        </li>
                        <li>Fileinfo.com. 2022. Audio File Formats. <a
                                href="https://fileinfo.com/filetypes/audio">https://fileinfo.com/filetypes/audio</a>
                        </li>
                        <li>Fileinfo.com. 2022. Video File Formats. <a
                                href="https://fileinfo.com/filetypes/video">https://fileinfo.com/filetypes/video</a>
                        </li>
                        <li>Herongyang.com. 2022. CD/DVD - File Name Extension and Format Types. <a
                                href="http://www.herongyang.com/CD-DVD/File-Name-Extension-Format-Types.html">http://www.herongyang.com/CD-DVD/File-Name-Extension-Format-Types.html</a>
                        </li>
                        <li>Fileinfo.com. 2022. Executable File Formats. <a
                                href="https://fileinfo.com/filetypes/executable">https://fileinfo.com/filetypes/executable</a>
                        </li>
                        <li>Fileinfo.com. 2022. Compressed File Formats. <a
                                href="https://fileinfo.com/filetypes/compressed">https://fileinfo.com/filetypes/compressed</a>
                        </li>
                        <li>Pentbox 2022. <a
                                href="https://www.youtube.com/watch?v=45TFW0vH0F4">https://www.youtube.com/watch?v=45TFW0vH0F4</a>
                        </li>
                        <li>Linux Security Expert. 2022. Honeypots. <a
                                href="https://linuxsecurity.expert/security-tools/honeypots#:~:text=Usage,%2C%20security%20professionals%2C%20system%20administrators.">https://linuxsecurity.expert/security-tools/honeypots#:~:text=Usage,%2C%20security%20professionals%2C%20system%20administrators.</a>
                        </li>
                        <li>Docs.netgate.com. 2022. pfSense® software Configuration Recipes — Configuring the Squid
                            Package as a Transparent HTTP Proxy | pfSense Documentation. <a
                                href="https://docs.netgate.com/pfsense/en/latest/recipes/http-client-proxy-transparent.html">https://docs.netgate.com/pfsense/en/latest/recipes/http-client-proxy-transparent.html</a>
                        </li>
                    </ul>
                </div>
            </div>
            <hr>
            <!-- Blog entry -->

            <!-- END BLOG ENTRIES -->
        </div>

        <!-- Introduction menu -->
        <div class="w3-col l4">
            <!-- About Card -->


            <!-- Posts -->


            <!-- Labels / tags -->


            <!-- END Introduction Menu -->
        </div>

        <!-- END GRID -->
    </div><br>

    <!-- END w3-content -->
    </div>

    <!-- Footer -->
    <footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">

    </footer>

    <script>
        // Slideshows#1 - Instalación de pfSense y OPNsense
        var slideIndex1 = 1;

        function plusDivs1(n) {
            slideIndex1 = slideIndex1 + n;
            showDivs1(slideIndex1);
        }

        function showDivs1(n) {
            var x = document.getElementsByClassName("mySlides1");
            if (n > x.length) { slideIndex1 = 1 }
            if (n < 1) { slideIndex1 = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex1 - 1].style.display = "block";
        }

        showDivs1(1);

        // Slideshows#2 - Servidores y PCs
        var slideIndex2 = 1;

        function plusDivs2(n) {
            slideIndex2 = slideIndex2 + n;
            showDivs2(slideIndex2);
        }

        function showDivs2(n) {
            var x = document.getElementsByClassName("mySlides2");
            if (n > x.length) { slideIndex2 = 1 }
            if (n < 1) { slideIndex2 = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex2 - 1].style.display = "block";
        }

        showDivs2(1);

        // Slideshows#3 - Honeypot (Pentbox)
        var slideIndex3 = 1;

        function plusDivs3(n) {
            slideIndex3 = slideIndex3 + n;
            showDivs3(slideIndex3);
        }

        function showDivs3(n) {
            var x = document.getElementsByClassName("mySlides3");
            if (n > x.length) { slideIndex3 = 1 }
            if (n < 1) { slideIndex3 = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex3 - 1].style.display = "block";
        }

        showDivs3(1);

        // Slideshows#4 - Proxys y firewalls en opnsense
        var slideIndex4 = 1;

        function plusDivs4(n) {
            slideIndex4 = slideIndex4 + n;
            showDivs4(slideIndex4);
        }

        function showDivs4(n) {
            var x = document.getElementsByClassName("mySlides4");
            if (n > x.length) { slideIndex4 = 1 }
            if (n < 1) { slideIndex = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex4 - 1].style.display = "block";
        }

        showDivs4(1);

        // Slideshows#5 - Honeypot (Endlessh) - Red Izquierda
        var slideIndex5 = 1;

        function plusDivs5(n) {
            slideIndex5 = slideIndex5 + n;
            showDivs5(slideIndex5);
        }

        function showDivs5(n) {
            var x = document.getElementsByClassName("mySlides5");
            if (n > x.length) { slideIndex5 = 1 }
            if (n < 1) { slideIndex5 = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex5 - 1].style.display = "block";
        }

        showDivs5(1);

        // Slideshows#6 - Proxys y firewalls en pfsense
        var slideIndex6 = 1;

        function plusDivs6(n) {
            slideIndex6 = slideIndex6 + n;
            showDivs6(slideIndex6);
        }

        function showDivs6(n) {
            var x = document.getElementsByClassName("mySlides6");
            if (n > x.length) { slideIndex6 = 1 }
            if (n < 1) { slideIndex6 = x.length };
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex6 - 1].style.display = "block";
        }

        showDivs6(1);
    </script>

</body>

</html>